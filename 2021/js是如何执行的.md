# V8 是如何执行JavaScript代码的呢
简单的说将一段js代码扔给V8会经历如下过程：构建运行环境，词法分析，语法分析生产ast, 生成字节码，编译执行字节码。
以下是废话：JavaScript是一门高级语言，高级语言需要编译为机器码才能被执行。

## 运行环境又包含哪些呢
V8是ECMAScript和WebAssembly的实现。 V8只提供了ECMAScript定义的一些内置对象和函数。另外还有垃圾回收和协程等基础内容，这些仍然需要宿主环境支持才能执行。
V8的运行环境由宿主提供。V8的宿主环境有浏览器和Node.js，这里主要聊浏览器。
宿主环境浏览器提供了Window、DOM、BOM、事件循环系统、堆、栈等其他Web API。

### 事件循环系统
- 为什么要有事件循环系统？
- 事件循环系统由宿主环境提供。那么为什么不是有引擎来提供的呢？
- 事件循环系统是如何来构建的？
- 为什么要有宏任务和微任务？


### 堆空间栈空间
栈空间是用来管理函数的调用。栈结构的特性是“先进后出”。

#### 那么为什么要用栈来管理函数的调用呢？
函数在调用的过程中，会涉及上下文相关



## V8是怎么编译执行字节码的呢


